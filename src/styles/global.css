@import "tailwindcss";

@plugin "@tailwindcss/typography";

/* 3. 配置你的设计主题 (替代原本的 tailwind.config.js) */
@theme {
  /* 自定义颜色变量 */
  --color-bg: #fafafa;
  --color-text: #27272a;
  --color-primary: #52525b;

  /* 自定义字体栈 */
  --font-serif: "Charter", "Bitstream Charter", "Sitka Text", "Cambria", serif;
  --font-sans: "Inter", system-ui, sans-serif;
}

/* 4. 一些全局的基础样式修正 */
body {
  @apply bg-bg text-text font-serif antialiased;
}
/* =========================================
   代码块折叠功能样式 (Code Block Fold)
   ========================================= */

/* 1. 代码块的外层容器 (JS 生成) */
.code-block-wrapper {
  background-color: #ffffff; /* 纯白背景 */
  border: 1px solid #e4e4e7; /* 细边框 */
  border-radius: 0.5rem;
  margin-bottom: 1.5rem;
  overflow: hidden; /* 关键：折叠时隐藏内容 */
  box-shadow: 0 1px 3px rgba(0,0,0,0.02);
}

/* 2. 顶部工具栏 (Header) */
.code-block-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 1rem;
  background-color: #ffffff; /* 头部也是白色 */
  border-bottom: 1px solid #f4f4f5; /* 极淡的分割线 */
  font-family: "Inter", sans-serif;
  user-select: none;
}

/* 语言标签 */
.code-language-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: #a1a1aa; /* 浅灰文字 */
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* 折叠按钮 */
.code-collapse-btn {
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 4px;
  color: #71717a;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
}

.code-collapse-btn:hover {
  background-color: #f4f4f5;
  color: #18181b;
}

/* 箭头图标动画 */
.code-collapse-icon {
  width: 1rem;
  height: 1rem;
  transition: transform 0.2s;
}

/* 3. 修改原有的 <pre> 样式以适应新容器 */
/* 注意：这里我们要覆盖之前写的样式，因为现在 pre 被包在 wrapper 里了 */
.code-block-wrapper pre {
  margin: 0 !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background-color: transparent !important; /* 背景透明，透出 wrapper 的白色 */
  padding: 1rem !important;
  overflow-x: auto;
}

/* 4. 折叠状态 */
.code-block-wrapper.collapsed .code-block-content {
  display: none; /* 或者使用 height 动画 */
}

.code-block-wrapper.collapsed .code-collapse-icon {
  transform: rotate(-90deg); /* 箭头旋转 */
}