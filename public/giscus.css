/* public/giscus.css */

/* 1. 强制重置所有基础变量 (无论深色浅色) */
main {
  /* 定义我们想要的浅色/极简颜色 */
  --light-bg: #ffffff;
  --light-border: #f4f4f5; /* 极浅灰 */
  --light-text: #27272a;   /* 深灰 */
  --light-secondary: #a1a1aa;
  
  /* 覆盖 Giscus 的核心变量 */
  --color-canvas-default: transparent !important;
  --color-canvas-overlay: var(--light-bg) !important;
  --color-canvas-subtle: transparent !important;
  --color-border-default: var(--light-border) !important;
  --color-border-muted: var(--light-border) !important;
  --color-fg-default: var(--light-text) !important;
  --color-fg-muted: var(--light-secondary) !important;
  --color-fg-subtle: var(--light-secondary) !important;
  
  /* 按钮和输入框 */
  --color-btn-text: var(--light-text) !important;
  --color-btn-bg: var(--light-bg) !important;
  --color-btn-border: var(--light-border) !important;
  --color-input-bg: var(--light-bg) !important;
  --color-input-border: var(--light-border) !important;
  --color-input-text: var(--light-text) !important;
  
  /* 字体 */
  font-family: "Inter", system-ui, sans-serif !important;
}

/* 2. 核心去黑框逻辑 (直接针对类名) */
.gsc-comment-box {
  background-color: transparent !important;
  border: 1px solid var(--light-border) !important; /* 强制浅灰边框 */
  box-shadow: none !important; /* 强制去掉阴影 */
  border-radius: 8px !important;
}

/* 聚焦时稍微深一点 */
.gsc-comment-box:focus-within {
  border-color: #e4e4e7 !important;
  box-shadow: none !important;
}

/* 3. 顶部 Tab 栏去边框 */
.gsc-comment-box-tabs {
  border-color: transparent !important;
}
.gsc-comment-box-tabs .color-bg-canvas {
  background-color: transparent !important;
}

/* 4. 底部工具栏去边框 */
.gsc-comment-box-bottom {
  border-top: 1px solid var(--light-border) !important;
  background-color: transparent !important;
}

/* 5. 修正 Safari 深色模式下的文字颜色 */
/* 这里的逻辑是：即便检测到 dark mode，也强制应用上面的浅色变量 */
@media (prefers-color-scheme: dark) {
  body, main {
    background-color: transparent !important;
    color: var(--light-text) !important;
  }
  
  /* 强制输入框背景变白，文字变黑 */
  .gsc-comment-box textarea {
    background-color: #ffffff !important;
    color: #27272a !important;
  }
  
  /* 强制按钮文字变黑 */
  .gsc-comment-box button {
    color: #52525b !important;
  }
}